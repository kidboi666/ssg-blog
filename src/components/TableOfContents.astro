---
interface Props {
  headings: { depth: number; slug: string; text: string }[];
}

const { headings } = Astro.props;
---

<aside
  class="w-64 border-b border-l border-zinc-200 p-5 dark:border-zinc-800 max-xl:hidden"
>
  <div class="sticky top-20 w-full xl:h-[calc(100dvh-120px)]">
    <div class="flex h-full flex-col gap-2 overflow-y-scroll scrollbar-none">
      <h2 class="text-lg dark:text-zinc-400">목차</h2>
      {
        headings.map((heading) => (
          <a href={`#${heading.slug}`}>
            <p
              class:list={[
                "heading text-xs text-zinc-500 hover:text-zinc-200",
                { heading1: heading.depth === 1 },
                { heading2: heading.depth === 2 },
                { heading3: heading.depth === 3 },
                { heading4: heading.depth === 4 },
                { heading5: heading.depth === 5 },
                { heading6: heading.depth === 6 },
              ]}
            >
              {heading.text}
            </p>
          </a>
        ))
      }
    </div>
  </div>
</aside>

<style>
  .heading2 {
    margin-left: 16px;
  }
  .heading3 {
    margin-left: 20px;
  }
  .heading4 {
    margin-left: 28px;
  }
</style>
